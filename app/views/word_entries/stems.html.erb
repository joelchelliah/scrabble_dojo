<% provide(:title, 'Word stems') %>
<div id="word-entries-search" class="hero-unit">
  <h1>Words</h1>
  <h2>Stems</h2>
  <hr/>
  <div id="word-nav">
    <p>
      <%= link_to "Scroll to top", "#word-entries-search" %>
    </p>
  </div>
  <div class="row">
    <div class="span11 center">
      <p> Enter a word, or sequence of letters to find all entries containing the given stem. </p>
      <p> Choose where the stem should appear in the words, and specify maximum length. </p>
      <div class="form-group">
        <%= form_tag("/stems", method: "get") do %>
          <%= text_field_tag(:word, @word, placeholder: ". . .") %>
          <div>
          <%= select_tag :option,
              options_for_select([['Prefix', :prefix], ['Suffix', :suffix], ['Prefix or suffix', :both], ['Contains', :contains]], @option) %>
          </div>
          <div>
          <%= select_tag :max_length,
              options_for_select([['5 letters', 5], ['6 letters', 6], ['7 letters', 7], ['8 letters', 8], ['9 letters', 9], ['10 letters', 10], 
                                  ['11 letters', 11], ['12 letters', 12], ['13 letters', 13], ['14 letters', 14],['Maximum word length', 15]],
                                  @max_length) %>
          </div>
          <%= submit_tag "Search", class: "btn btn-primary" %>
        <% end %>
      </div>
    </div>
  </div>
  <% unless @word.blank? %>
    <div class="row">
      <div class="span11 center">
        <hr/>
        <p><%= word_stems_result_text %></p>
        <div class="results">
          <% @word_entries.each do |word_entry| %>
            <p><strong> <%= word_entry.word %> </strong></p>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
</div>